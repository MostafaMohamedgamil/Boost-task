<div *appShowIf="dataService.loading()" class="flex items-center justify-center min-h-screen">
  <p-progressSpinner />
</div>
<div class="min-h-screen  mx-auto bg-background" *appHasRole="'Admin'">
  <header class="border-b border-border bg-card">
    <div class="  px-4 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold">Admin Dashboard</h1>
      <p-button routerLink="/" label="Change Role" />
    </div>
  </header>
  <p-card header="Users List">
    <p-table [value]="$any(dataService.data()) || []" [paginator]="true" [rows]="5">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Company</th>
        </tr>
      </ng-template>
  
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.company?.name }}</td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
    
</div>

<div *appHasRole="'Instructor'" class="min-h-screen  mx-auto bg-background">
  <header class="border-b border-border bg-card">
    <div class="  px-4 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold">Instructor Dashboard</h1>
      <p-button routerLink="/" label="Change Role" />
    </div>
  </header>
  <p-card  header="Posts List">
    <p-table [value]="$any(dataService.data()) || []" [paginator]="true" [rows]="10">
      <!-- Table Header -->
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Body</th>
        </tr>
      </ng-template>

      <!-- Table Body -->
      <ng-template pTemplate="body" let-post>
        <tr>
          <td class="font-bold">{{ post.id }}</td>
          <td class="font-bold">{{ post.title }}</td>
          <td class="text-gray-500">{{ post.body }}</td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
<div *appHasRole="'User'" class="min-h-screen  mx-auto bg-background">
  <header class="border-b border-border bg-card">
    <div class="  px-4 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold">User Dashboard</h1>
      <p-button routerLink="/" label="Change Role" />
    </div>
  </header>
  <div  class="p-6">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      @for (user of $any(dataService.data()); track $index) {
        <p-card class="hover:shadow-xl transition">
          <img
            [src]="user.image"
            alt="{{ user.title }}"
            class="w-full h-48 object-cover rounded-md mb-4"
          />
          <div class="flex flex-col gap-2">
            <h2 class="font-bold text-lg">{{ user.title }}</h2>
            <p class="text-gray-500 text-sm">{{ user.category }}</p>
            <p class="text-gray-700 text-sm">{{ user.description }}</p>
            <p class="text-indigo-600 font-semibold text-lg mt-2">${{ user.price }}</p>
            <button
              class="mt-3 w-full bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700 transition"
            >
              Buy Now
            </button>
          </div>
        </p-card>
      }
    </div>
  </div>
</div>
